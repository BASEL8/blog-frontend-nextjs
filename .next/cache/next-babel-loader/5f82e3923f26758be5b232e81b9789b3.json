{"ast":null,"code":"var _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/components/Layout/SearchCopy.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { searchList } from '../../actions/blog';\nimport Link from '../../src/Link';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    margin: 0,\n    flex: 1\n  },\n  searchResultHolder: {\n    width: '100%',\n    minHeight: 100,\n    position: 'absolute',\n    top: '102%',\n    left: 0,\n    zIndex: 99,\n    padding: 5,\n    background: 'white'\n  },\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    position: 'relative',\n    marginLeft: 20,\n    marginRight: 20,\n    flex: 1\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1\n  },\n  iconButton: {\n    padding: 10\n  },\n  divider: {\n    height: 28,\n    margin: 4\n  }\n}));\n\nconst Search = () => {\n  const classes = useStyles();\n  const {\n    0: searchResult,\n    1: setSearchResult\n  } = useState([]);\n  const {\n    0: value,\n    1: setValue\n  } = useState('');\n  const {\n    0: toggle,\n    1: setToggle\n  } = useState(false);\n  const searchBar = useRef();\n\n  const handleClick = e => {\n    if (searchBar.current.contains(e.target)) {\n      return;\n    }\n\n    setSearchResult([]);\n    setValue('');\n    setToggle(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n    e.target.value.length % 4 === 0 && searchList({\n      value: e.target.value\n    }).then(res => setSearchResult(res));\n  };\n\n  const renderRow = props => {\n    const {\n      index,\n      style,\n      data\n    } = props;\n    console.log(props);\n    return __jsx(ListItem, {\n      button: true,\n      style: style,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: `/blogs/${data[index].slug}`,\n      onClick: () => {\n        setValue('');\n        setSearchResult([]);\n        setToggle(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, __jsx(ListItemText, {\n      primary: data[index].title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })));\n  };\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    style: {\n      justifyContent: 'flex-end'\n    },\n    ref: searchBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.root,\n    style: {\n      flex: !toggle ? 0 : 1,\n      background: 'transparent'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, toggle && __jsx(React.Fragment, null, __jsx(InputBase, {\n    className: classes.textField,\n    placeholder: \"Search blog\",\n    onChange: handleChange,\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(Divider, {\n    className: classes.divider,\n    orientation: \"vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), __jsx(IconButton, {\n    className: classes.iconButton,\n    \"aria-label\": \"search\",\n    onClick: () => setToggle(!toggle),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  })), value.length >= 4 && searchResult.length > 0 && __jsx(Paper, {\n    className: classes.searchResultHolder,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, __jsx(FixedSizeList, {\n    height: 200,\n    width: '100%',\n    itemSize: 35,\n    itemCount: searchResult.length,\n    itemData: searchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, renderRow))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/components/Layout/SearchCopy.jsx"],"names":["React","useState","useRef","useEffect","makeStyles","searchList","Link","Paper","InputBase","Divider","IconButton","SearchIcon","ListItem","ListItemText","FixedSizeList","useStyles","theme","textField","margin","flex","searchResultHolder","width","minHeight","position","top","left","zIndex","padding","background","root","display","alignItems","marginLeft","marginRight","input","spacing","iconButton","divider","height","Search","classes","searchResult","setSearchResult","value","setValue","toggle","setToggle","searchBar","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","handleChange","length","then","res","renderRow","props","index","style","data","console","log","slug","title","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core'\nimport { searchList } from '../../actions/blog'\nimport Link from '../../src/Link'\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\n\n\nconst useStyles = makeStyles(theme => ({\n\n  textField: {\n    margin: 0,\n    flex: 1\n  },\n  searchResultHolder: {\n    width: '100%',\n    minHeight: 100,\n    position: 'absolute',\n    top: '102%',\n    left: 0,\n    zIndex: 99,\n    padding: 5,\n    background: 'white'\n  },\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    position: 'relative',\n    marginLeft: 20,\n    marginRight: 20,\n    flex: 1\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nconst Search = () => {\n  const classes = useStyles()\n  const [searchResult, setSearchResult] = useState([])\n  const [value, setValue] = useState('')\n  const [toggle, setToggle] = useState(false)\n  const searchBar = useRef();\n  const handleClick = e => {\n    if (searchBar.current.contains(e.target)) {\n      return;\n    }\n    setSearchResult([])\n    setValue('')\n    setToggle(false)\n  };\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n  const handleChange = (e) => {\n    setValue(e.target.value)\n    e.target.value.length % 4 === 0 && searchList({ value: e.target.value }).then(res => setSearchResult(res))\n  }\n\n  const renderRow = (props) => {\n    const { index, style, data } = props;\n    console.log(props)\n    return (\n      <ListItem button style={style} key={index}>\n        <Link href={`/blogs/${data[index].slug}`} onClick={() => { setValue(''); setSearchResult([]); setToggle(false) }}>\n          <ListItemText primary={data[index].title} />\n        </Link>\n      </ListItem >\n    );\n  }\n  return (\n    <div className={classes.root} style={{ justifyContent: 'flex-end' }} ref={searchBar}>\n      <div className={classes.root} style={{ flex: !toggle ? 0 : 1, background: 'transparent' }} >\n        {toggle &&\n          <>\n            <InputBase\n              className={classes.textField}\n              placeholder=\"Search blog\"\n              onChange={handleChange}\n              value={value}\n            />\n            <Divider className={classes.divider} orientation=\"vertical\" />\n          </>\n        }\n        <IconButton className={classes.iconButton} aria-label=\"search\" onClick={() => setToggle(!toggle)}>\n          <SearchIcon />\n        </IconButton>\n        {value.length >= 4 && searchResult.length > 0 && <Paper className={classes.searchResultHolder}><FixedSizeList height={200} width={'100%'} itemSize={35} itemCount={searchResult.length} itemData={searchResult}>\n          {renderRow}\n        </FixedSizeList></Paper>\n        }\n      </div>\n    </div>\n  )\n}\nexport default Search;"]},"metadata":{},"sourceType":"module"}