{"ast":null,"code":"var _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/components/Layout/SearchCopy.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport { searchList } from '../../actions/blog';\nimport Link from '../../src/Link';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    textField: {\n      margin: 0,\n      flex: 1\n    },\n    searchResultHolder: {\n      width: '100%',\n      minHeight: 100,\n      position: 'absolute',\n      top: '102%',\n      left: 0,\n      zIndex: 99,\n      padding: 5,\n      background: 'white'\n    },\n    root: {\n      padding: '2px 4px',\n      display: 'flex',\n      alignItems: 'center',\n      position: 'relative',\n      marginLeft: 20,\n      marginRight: 20,\n      flex: 1\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1\n    },\n    iconButton: {\n      padding: 10\n    },\n    divider: {\n      height: 28,\n      margin: 4\n    }\n  };\n});\n\nvar Search = function Search() {\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      searchResult = _useState[0],\n      setSearchResult = _useState[1];\n\n  var _useState2 = useState(''),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(false),\n      toggle = _useState3[0],\n      setToggle = _useState3[1];\n\n  var searchBar = useRef();\n\n  var handleClick = function handleClick(e) {\n    if (searchBar.current.contains(e.target)) {\n      return;\n    }\n\n    setSearchResult([]);\n    setValue('');\n    setToggle(false);\n  };\n\n  useEffect(function () {\n    document.addEventListener(\"mousedown\", handleClick);\n    return function () {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n    e.target.value.length % 4 === 0 && searchList({\n      value: e.target.value\n    }).then(function (res) {\n      return setSearchResult(res);\n    });\n  };\n\n  var renderRow = function renderRow(props) {\n    var index = props.index,\n        style = props.style,\n        data = props.data;\n    console.log(props);\n    return __jsx(ListItem, {\n      button: true,\n      style: style,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/blogs/\".concat(data[index].slug),\n      onClick: function onClick() {\n        setValue('');\n        setSearchResult([]);\n        setToggle(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, __jsx(ListItemText, {\n      primary: data[index].title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })));\n  };\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    style: {\n      justifyContent: 'flex-end'\n    },\n    ref: searchBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: classes.root,\n    style: {\n      flex: !toggle ? 0 : 1,\n      background: 'transparent'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, toggle && __jsx(React.Fragment, null, __jsx(InputBase, {\n    className: classes.textField,\n    placeholder: \"Search blog\",\n    onChange: handleChange,\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), __jsx(Divider, {\n    className: classes.divider,\n    orientation: \"vertical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), __jsx(IconButton, {\n    className: classes.iconButton,\n    \"aria-label\": \"search\",\n    onClick: function onClick() {\n      return setToggle(!toggle);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  })), value.length >= 4 && searchResult.length > 0 && __jsx(Paper, {\n    className: classes.searchResultHolder,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, __jsx(FixedSizeList, {\n    height: 200,\n    width: '100%',\n    itemSize: 35,\n    itemCount: searchResult.length,\n    itemData: searchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, renderRow))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/components/Layout/SearchCopy.jsx"],"names":["React","useState","useRef","useEffect","makeStyles","searchList","Link","Paper","InputBase","Divider","IconButton","SearchIcon","ListItem","ListItemText","FixedSizeList","useStyles","theme","textField","margin","flex","searchResultHolder","width","minHeight","position","top","left","zIndex","padding","background","root","display","alignItems","marginLeft","marginRight","input","spacing","iconButton","divider","height","Search","classes","searchResult","setSearchResult","value","setValue","toggle","setToggle","searchBar","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","handleChange","length","then","res","renderRow","props","index","style","data","console","log","slug","title","justifyContent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,SAASC,aAAT,QAA8B,cAA9B;AAGA,IAAMC,SAAS,GAAGX,UAAU,CAAC,UAAAY,KAAK;AAAA,SAAK;AAErCC,IAAAA,SAAS,EAAE;AACTC,MAAAA,MAAM,EAAE,CADC;AAETC,MAAAA,IAAI,EAAE;AAFG,KAF0B;AAMrCC,IAAAA,kBAAkB,EAAE;AAClBC,MAAAA,KAAK,EAAE,MADW;AAElBC,MAAAA,SAAS,EAAE,GAFO;AAGlBC,MAAAA,QAAQ,EAAE,UAHQ;AAIlBC,MAAAA,GAAG,EAAE,MAJa;AAKlBC,MAAAA,IAAI,EAAE,CALY;AAMlBC,MAAAA,MAAM,EAAE,EANU;AAOlBC,MAAAA,OAAO,EAAE,CAPS;AAQlBC,MAAAA,UAAU,EAAE;AARM,KANiB;AAgBrCC,IAAAA,IAAI,EAAE;AACJF,MAAAA,OAAO,EAAE,SADL;AAEJG,MAAAA,OAAO,EAAE,MAFL;AAGJC,MAAAA,UAAU,EAAE,QAHR;AAIJR,MAAAA,QAAQ,EAAE,UAJN;AAKJS,MAAAA,UAAU,EAAE,EALR;AAMJC,MAAAA,WAAW,EAAE,EANT;AAOJd,MAAAA,IAAI,EAAE;AAPF,KAhB+B;AAyBrCe,IAAAA,KAAK,EAAE;AACLF,MAAAA,UAAU,EAAEhB,KAAK,CAACmB,OAAN,CAAc,CAAd,CADP;AAELhB,MAAAA,IAAI,EAAE;AAFD,KAzB8B;AA6BrCiB,IAAAA,UAAU,EAAE;AACVT,MAAAA,OAAO,EAAE;AADC,KA7ByB;AAgCrCU,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,EADD;AAEPpB,MAAAA,MAAM,EAAE;AAFD;AAhC4B,GAAL;AAAA,CAAN,CAA5B;;AAsCA,IAAMqB,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,MAAMC,OAAO,GAAGzB,SAAS,EAAzB;;AADmB,kBAEqBd,QAAQ,CAAC,EAAD,CAF7B;AAAA,MAEZwC,YAFY;AAAA,MAEEC,eAFF;;AAAA,mBAGOzC,QAAQ,CAAC,EAAD,CAHf;AAAA,MAGZ0C,KAHY;AAAA,MAGLC,QAHK;;AAAA,mBAIS3C,QAAQ,CAAC,KAAD,CAJjB;AAAA,MAIZ4C,MAJY;AAAA,MAIJC,SAJI;;AAKnB,MAAMC,SAAS,GAAG7C,MAAM,EAAxB;;AACA,MAAM8C,WAAW,GAAG,SAAdA,WAAc,CAAAC,CAAC,EAAI;AACvB,QAAIF,SAAS,CAACG,OAAV,CAAkBC,QAAlB,CAA2BF,CAAC,CAACG,MAA7B,CAAJ,EAA0C;AACxC;AACD;;AACDV,IAAAA,eAAe,CAAC,EAAD,CAAf;AACAE,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,IAAAA,SAAS,CAAC,KAAD,CAAT;AACD,GAPD;;AAQA3C,EAAAA,SAAS,CAAC,YAAM;AACdkD,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCN,WAAvC;AACA,WAAO,YAAM;AACXK,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CP,WAA1C;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;;AAMA,MAAMQ,YAAY,GAAG,SAAfA,YAAe,CAACP,CAAD,EAAO;AAC1BL,IAAAA,QAAQ,CAACK,CAAC,CAACG,MAAF,CAAST,KAAV,CAAR;AACAM,IAAAA,CAAC,CAACG,MAAF,CAAST,KAAT,CAAec,MAAf,GAAwB,CAAxB,KAA8B,CAA9B,IAAmCpD,UAAU,CAAC;AAAEsC,MAAAA,KAAK,EAAEM,CAAC,CAACG,MAAF,CAAST;AAAlB,KAAD,CAAV,CAAsCe,IAAtC,CAA2C,UAAAC,GAAG;AAAA,aAAIjB,eAAe,CAACiB,GAAD,CAAnB;AAAA,KAA9C,CAAnC;AACD,GAHD;;AAKA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;AAAA,QACnBC,KADmB,GACID,KADJ,CACnBC,KADmB;AAAA,QACZC,KADY,GACIF,KADJ,CACZE,KADY;AAAA,QACLC,IADK,GACIH,KADJ,CACLG,IADK;AAE3BC,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,WACE,MAAC,QAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,KAAK,EAAEE,KAAxB;AAA+B,MAAA,GAAG,EAAED,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,mBAAYE,IAAI,CAACF,KAAD,CAAJ,CAAYK,IAAxB,CAAV;AAA0C,MAAA,OAAO,EAAE,mBAAM;AAAEvB,QAAAA,QAAQ,CAAC,EAAD,CAAR;AAAcF,QAAAA,eAAe,CAAC,EAAD,CAAf;AAAqBI,QAAAA,SAAS,CAAC,KAAD,CAAT;AAAkB,OAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,YAAD;AAAc,MAAA,OAAO,EAAEkB,IAAI,CAACF,KAAD,CAAJ,CAAYM,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CADF;AAOD,GAVD;;AAWA,SACE;AAAK,IAAA,SAAS,EAAE5B,OAAO,CAACX,IAAxB;AAA8B,IAAA,KAAK,EAAE;AAAEwC,MAAAA,cAAc,EAAE;AAAlB,KAArC;AAAqE,IAAA,GAAG,EAAEtB,SAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEP,OAAO,CAACX,IAAxB;AAA8B,IAAA,KAAK,EAAE;AAAEV,MAAAA,IAAI,EAAE,CAAC0B,MAAD,GAAU,CAAV,GAAc,CAAtB;AAAyBjB,MAAAA,UAAU,EAAE;AAArC,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGiB,MAAM,IACL,4BACE,MAAC,SAAD;AACE,IAAA,SAAS,EAAEL,OAAO,CAACvB,SADrB;AAEE,IAAA,WAAW,EAAC,aAFd;AAGE,IAAA,QAAQ,EAAEuC,YAHZ;AAIE,IAAA,KAAK,EAAEb,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,MAAC,OAAD;AAAS,IAAA,SAAS,EAAEH,OAAO,CAACH,OAA5B;AAAqC,IAAA,WAAW,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAFJ,EAYE,MAAC,UAAD;AAAY,IAAA,SAAS,EAAEG,OAAO,CAACJ,UAA/B;AAA2C,kBAAW,QAAtD;AAA+D,IAAA,OAAO,EAAE;AAAA,aAAMU,SAAS,CAAC,CAACD,MAAF,CAAf;AAAA,KAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZF,EAeGF,KAAK,CAACc,MAAN,IAAgB,CAAhB,IAAqBhB,YAAY,CAACgB,MAAb,GAAsB,CAA3C,IAAgD,MAAC,KAAD;AAAO,IAAA,SAAS,EAAEjB,OAAO,CAACpB,kBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8C,MAAC,aAAD;AAAe,IAAA,MAAM,EAAE,GAAvB;AAA4B,IAAA,KAAK,EAAE,MAAnC;AAA2C,IAAA,QAAQ,EAAE,EAArD;AAAyD,IAAA,SAAS,EAAEqB,YAAY,CAACgB,MAAjF;AAAyF,IAAA,QAAQ,EAAEhB,YAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAC5FmB,SAD4F,CAA9C,CAfnD,CADF,CADF;AAwBD,CA5DD;;AA6DA,eAAerB,MAAf","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core'\nimport { searchList } from '../../actions/blog'\nimport Link from '../../src/Link'\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\n\n\nconst useStyles = makeStyles(theme => ({\n\n  textField: {\n    margin: 0,\n    flex: 1\n  },\n  searchResultHolder: {\n    width: '100%',\n    minHeight: 100,\n    position: 'absolute',\n    top: '102%',\n    left: 0,\n    zIndex: 99,\n    padding: 5,\n    background: 'white'\n  },\n  root: {\n    padding: '2px 4px',\n    display: 'flex',\n    alignItems: 'center',\n    position: 'relative',\n    marginLeft: 20,\n    marginRight: 20,\n    flex: 1\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nconst Search = () => {\n  const classes = useStyles()\n  const [searchResult, setSearchResult] = useState([])\n  const [value, setValue] = useState('')\n  const [toggle, setToggle] = useState(false)\n  const searchBar = useRef();\n  const handleClick = e => {\n    if (searchBar.current.contains(e.target)) {\n      return;\n    }\n    setSearchResult([])\n    setValue('')\n    setToggle(false)\n  };\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n  const handleChange = (e) => {\n    setValue(e.target.value)\n    e.target.value.length % 4 === 0 && searchList({ value: e.target.value }).then(res => setSearchResult(res))\n  }\n\n  const renderRow = (props) => {\n    const { index, style, data } = props;\n    console.log(props)\n    return (\n      <ListItem button style={style} key={index}>\n        <Link href={`/blogs/${data[index].slug}`} onClick={() => { setValue(''); setSearchResult([]); setToggle(false) }}>\n          <ListItemText primary={data[index].title} />\n        </Link>\n      </ListItem >\n    );\n  }\n  return (\n    <div className={classes.root} style={{ justifyContent: 'flex-end' }} ref={searchBar}>\n      <div className={classes.root} style={{ flex: !toggle ? 0 : 1, background: 'transparent' }} >\n        {toggle &&\n          <>\n            <InputBase\n              className={classes.textField}\n              placeholder=\"Search blog\"\n              onChange={handleChange}\n              value={value}\n            />\n            <Divider className={classes.divider} orientation=\"vertical\" />\n          </>\n        }\n        <IconButton className={classes.iconButton} aria-label=\"search\" onClick={() => setToggle(!toggle)}>\n          <SearchIcon />\n        </IconButton>\n        {value.length >= 4 && searchResult.length > 0 && <Paper className={classes.searchResultHolder}><FixedSizeList height={200} width={'100%'} itemSize={35} itemCount={searchResult.length} itemData={searchResult}>\n          {renderRow}\n        </FixedSizeList></Paper>\n        }\n      </div>\n    </div>\n  )\n}\nexport default Search;"]},"metadata":{},"sourceType":"module"}