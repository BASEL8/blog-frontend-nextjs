{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport fetch from 'isomorphic-fetch';\nimport queryString from 'query-string';\nimport { handleResponse } from './auth';\nimport { API } from '../config';\nexport const createBlog = (blog, token) => {\n  return fetch(`${API}/blog`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: blog\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const listBlogWithCategoriesTags = (token, skip, limit) => {\n  return fetch(`${API}/blogs-categories-tags`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: _JSON$stringify({\n      limit,\n      skip\n    })\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const singleBlog = (token, slug) => {\n  return fetch(`${API}/blog/${slug}`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const singleBlogPart = slug => {\n  return fetch(`${API}/blog/part/${slug}`, {\n    method: 'POST'\n  }).then(res => res.json()).catch(error => error);\n};\nexport const listRelated = (_id, categories) => {\n  return fetch(`${API}/blogs/related`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: _JSON$stringify(_id, categories)\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\nexport const adminList = (token, user) => {\n  return fetch(`${API}/blogs`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const userList = (token, user) => {\n  return fetch(`${API}/user/blogs`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: _JSON$stringify(user)\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const adminRemovePlog = (token, user, slug) => {\n  return fetch(`${API}/blog/adminRemoveBlog/${slug}`, {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: _JSON$stringify(user)\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const userRemovePlog = (token, user, slug) => {\n  return fetch(`${API}/blog/userRemoveBlog/${slug}`, {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: _JSON$stringify(user)\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const userUpdateBlog = (token, slug, blog) => {\n  console.log(token);\n  return fetch(`${API}/blog/${slug}`, {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: blog\n  }).then(res => {\n    handleResponse(res);\n    return res.json();\n  }).catch(error => error);\n};\nexport const searchList = params => {\n  const query = queryString.stringify(params);\n  return fetch(`${API}/blogs/search?${query}`, {\n    method: 'GET'\n  }).then(res => res.json()).catch(error => error);\n};","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/actions/blog.js"],"names":["fetch","queryString","handleResponse","API","createBlog","blog","token","method","headers","Accept","Authorization","body","then","res","json","catch","error","listBlogWithCategoriesTags","skip","limit","singleBlog","slug","singleBlogPart","listRelated","_id","categories","response","err","console","log","adminList","user","userList","adminRemovePlog","userRemovePlog","userUpdateBlog","searchList","params","query","stringify"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-fetch'\r\nimport queryString from 'query-string'\r\nimport { handleResponse } from './auth'\r\nimport { API } from '../config'\r\n\r\nexport const createBlog = (blog, token) => {\r\n  return fetch(`${API}/blog`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: blog\r\n  }).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const listBlogWithCategoriesTags = (token, skip, limit) => {\r\n\r\n  return fetch(`${API}/blogs-categories-tags`,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ limit, skip })\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const singleBlog = (token, slug) => {\r\n  return fetch(`${API}/blog/${slug}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => {\r\n      handleResponse(res)\r\n      return res.json()\r\n    }).catch(error => error)\r\n}\r\nexport const singleBlogPart = (slug) => {\r\n  return fetch(`${API}/blog/part/${slug}`, {\r\n    method: 'POST'\r\n  })\r\n    .then(res => res.json()).catch(error => error)\r\n}\r\n\r\nexport const listRelated = (_id, categories) => {\r\n  return fetch(`${API}/blogs/related`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(_id, categories)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\nexport const adminList = (token, user) => {\r\n  return fetch(`${API}/blogs`,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const userList = (token, user) => {\r\n  return fetch(`${API}/user/blogs`,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const adminRemovePlog = (token, user, slug) => {\r\n  return fetch(`${API}/blog/adminRemoveBlog/${slug}`,\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const userRemovePlog = (token, user, slug) => {\r\n  return fetch(`${API}/blog/userRemoveBlog/${slug}`,\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const userUpdateBlog = (token, slug, blog) => {\r\n  console.log(token)\r\n  return fetch(`${API}/blog/${slug}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: blog\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const searchList = (params) => {\r\n  const query = queryString.stringify(params)\r\n  return fetch(`${API}/blogs/search?${query}`,\r\n    {\r\n      method: 'GET',\r\n    }\r\n  ).then(res => res.json()).catch(error => error)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}