{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/components/auth/Login.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles'; //import { useHistory, useLocation } from 'react-router-dom';\n\nimport Link from '../../src/Link';\nimport { login, authenticate, isAuth } from '../../actions/auth';\nimport SigninWithGoogle from './SigininWithGoogle';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Router, { withRouter } from 'next/router';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      '& > * + *': {\n        marginLeft: theme.spacing(1)\n      }\n    },\n    container: {\n      display: 'flex',\n      flexWrap: 'wrap',\n      flexDirection: 'column',\n      padding: 30\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    button: {\n      margin: theme.spacing(1)\n    },\n    input: {\n      display: 'none'\n    },\n    googleButtonHolder: {\n      paddingBottom: 10\n    },\n    paper: {\n      padding: 10,\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      background: 'none',\n      textAlign: 'center'\n    }\n  };\n});\n\nvar Login = function Login(_ref) {\n  var router = _ref.router;\n  var classes = useStyles();\n\n  var _useState = useState({\n    email: '',\n    password: '',\n    error: '',\n    loading: false,\n    success: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var error = values.error,\n      email = values.email,\n      password = values.password,\n      loading = values.loading;\n  var query = router.query;\n  useEffect(function () {\n    if (query.email) {\n      setValues(_objectSpread({}, values, {\n        email: query.email\n      }));\n    }\n  }, [router]);\n  console.log(email);\n\n  var handleChange = function handleChange(e) {\n    var _objectSpread2;\n\n    setValues(_objectSpread({}, values, (_objectSpread2 = {}, _defineProperty(_objectSpread2, e.target.name, e.target.value), _defineProperty(_objectSpread2, \"error\", ''), _objectSpread2)));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var password = values.password,\n        email = values.email;\n    setValues(_objectSpread({}, values, {\n      error: '',\n      loading: true\n    }));\n    login({\n      password: password,\n      email: email\n    }).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread({}, values, {\n          error: data.error,\n          loading: false\n        }));\n      } else {\n        setValues(_objectSpread({}, values, {\n          error: '',\n          loading: false\n        }));\n        authenticate(data, function () {\n          return Router.push(\"/\");\n        });\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    className: classes.container,\n    noValidate: true,\n    autoComplete: \"on\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, __jsx(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    component: \"h3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Login\"), __jsx(Typography, {\n    component: \"p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, error)), __jsx(TextField, {\n    id: \"outlined-required\",\n    label: \"Email\",\n    onChange: handleChange,\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    name: \"email\",\n    type: \"email\",\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), __jsx(TextField, {\n    id: \"outlined-disabled\",\n    label: \"Password\",\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    name: \"password\",\n    type: \"password\",\n    onChange: handleChange,\n    defaultValue: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"outlined\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/auth/password\",\n    style: {\n      textDecoration: 'none',\n      color: 'gray'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Forget my password\"))), __jsx(Button, {\n    variant: \"contained\",\n    className: classes.button,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, loading ? __jsx(CircularProgress, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }) : 'Login')));\n};\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/components/auth/Login.jsx"],"names":["React","useState","useEffect","TextField","Button","makeStyles","Link","login","authenticate","isAuth","SigninWithGoogle","Paper","Typography","CircularProgress","Router","withRouter","useStyles","theme","root","display","marginLeft","spacing","container","flexWrap","flexDirection","padding","textField","marginRight","button","margin","input","googleButtonHolder","paddingBottom","paper","background","textAlign","Login","router","classes","email","password","error","loading","success","values","setValues","query","console","log","handleChange","e","target","name","value","handleSubmit","preventDefault","then","data","push","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n//import { useHistory, useLocation } from 'react-router-dom';\nimport  Link  from '../../src/Link'\nimport { login, authenticate, isAuth } from '../../actions/auth'\nimport SigninWithGoogle from './SigininWithGoogle'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Router, { withRouter} from 'next/router'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(1),\n    },\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flexDirection: 'column',\n    padding: 30\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  input: {\n    display: 'none',\n  },\n  googleButtonHolder: {\n    paddingBottom: 10\n  }, paper: {\n    padding: 10,\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    background: 'none',\n    textAlign: 'center'\n  }\n}));\nconst Login = ({router}) => {\n  const classes = useStyles();\n  const [values, setValues] = useState({ email: '', password: '', error: '', loading: false, success: false })\n  const { error, email, password, loading } = values;\n  const { query } = router;\n  useEffect(() => {\n   if (query.email) {\n      setValues({ ...values, email:query.email })\n   }\n  }, [router])\n  console.log(email)\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value, error: '' })\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const { password, email } = values\n    setValues({ ...values, error: '', loading: true })\n    login({ password, email }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false })\n      } else {\n        setValues({ ...values, error: '', loading: false })\n        authenticate(data, () => Router.push(\"/\"))\n      }\n    })\n  }\n  return (\n    <div>\n      <form className={classes.container} noValidate autoComplete=\"on\" onSubmit={handleSubmit}>\n       {/* <div  className={classes.textField}>\n           <SigninWithGoogle />\n      </div> */}\n        <Paper className={classes.paper}>\n          <Typography variant=\"h5\" component=\"h3\">\n            Login\n           </Typography>\n          <Typography component=\"p\">{error}</Typography>\n        </Paper>\n        <TextField\n          id=\"outlined-required\"\n          label=\"Email\"\n          onChange={handleChange}\n          className={classes.textField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          name=\"email\"\n          type=\"email\"\n          value={email}\n        />\n        <TextField\n          id=\"outlined-disabled\"\n          label=\"Password\"\n          className={classes.textField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          name=\"password\"\n          type=\"password\"\n          onChange={handleChange}\n          defaultValue={password}\n        />\n        <div>\n          <Button variant=\"outlined\" className={classes.button}>\n            <Link href=\"/auth/password\" style={{ textDecoration: 'none', color: 'gray' }}>Forget my password</Link>\n          </Button>\n        </div>\n        <Button variant=\"contained\" className={classes.button} type=\"submit\">\n          {loading ? <CircularProgress /> : 'Login'}\n        </Button>\n      </form>\n    </div >\n  )\n}\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}