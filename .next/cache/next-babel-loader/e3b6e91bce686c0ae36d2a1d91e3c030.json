{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport fetch from 'isomorphic-fetch';\nimport queryString from 'query-string';\nimport { handleResponse } from './auth';\nimport { API } from '../config';\nexport var createBlog = function createBlog(blog, token) {\n  return fetch(\"\".concat(API, \"/blog\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: blog\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var listBlogWithCategoriesTags = function listBlogWithCategoriesTags(token, skip, limit) {\n  return fetch(\"\".concat(API, \"/blogs-categories-tags\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: _JSON$stringify({\n      limit: limit,\n      skip: skip\n    })\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var singleBlog = function singleBlog(token, slug) {\n  return fetch(\"\".concat(API, \"/blog/\").concat(slug), {\n    method: 'GET',\n    headers: {\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var singleBlogPart = function singleBlogPart(slug) {\n  return fetch(\"\".concat(API, \"/blog/part/\").concat(slug), {\n    method: 'POST'\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var listRelated = function listRelated(_id, categories) {\n  return fetch(\"\".concat(API, \"/blogs/related\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: _JSON$stringify(_id, categories)\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var adminList = function adminList(token, user) {\n  return fetch(\"\".concat(API, \"/blogs\"), {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var userList = function userList(token, user) {\n  return fetch(\"\".concat(API, \"/user/blogs\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: _JSON$stringify(user)\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var adminRemovePlog = function adminRemovePlog(token, user, slug) {\n  return fetch(\"\".concat(API, \"/blog/adminRemoveBlog/\").concat(slug), {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: _JSON$stringify(user)\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var userRemovePlog = function userRemovePlog(token, user, slug) {\n  return fetch(\"\".concat(API, \"/blog/userRemoveBlog/\").concat(slug), {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'content-type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: _JSON$stringify(user)\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var userUpdateBlog = function userUpdateBlog(token, slug, blog) {\n  console.log(token);\n  return fetch(\"\".concat(API, \"/blog/\").concat(slug), {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: blog\n  }).then(function (res) {\n    handleResponse(res);\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};\nexport var searchList = function searchList(params) {\n  var query = queryString.stringify(params);\n  return fetch(\"\".concat(API, \"/blogs/search?\").concat(query), {\n    method: 'GET'\n  }).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    return error;\n  });\n};","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/actions/blog.js"],"names":["fetch","queryString","handleResponse","API","createBlog","blog","token","method","headers","Accept","Authorization","body","then","res","json","error","listBlogWithCategoriesTags","skip","limit","singleBlog","slug","singleBlogPart","listRelated","_id","categories","response","err","console","log","adminList","user","userList","adminRemovePlog","userRemovePlog","userUpdateBlog","searchList","params","query","stringify"],"mappings":"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","sourcesContent":["import fetch from 'isomorphic-fetch'\r\nimport queryString from 'query-string'\r\nimport { handleResponse } from './auth'\r\nimport { API } from '../config'\r\n\r\nexport const createBlog = (blog, token) => {\r\n  return fetch(`${API}/blog`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: blog\r\n  }).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const listBlogWithCategoriesTags = (token, skip, limit) => {\r\n\r\n  return fetch(`${API}/blogs-categories-tags`,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({ limit, skip })\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const singleBlog = (token, slug) => {\r\n  return fetch(`${API}/blog/${slug}`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(res => {\r\n      handleResponse(res)\r\n      return res.json()\r\n    }).catch(error => error)\r\n}\r\nexport const singleBlogPart = (slug) => {\r\n  return fetch(`${API}/blog/part/${slug}`, {\r\n    method: 'POST'\r\n  })\r\n    .then(res => res.json()).catch(error => error)\r\n}\r\n\r\nexport const listRelated = (_id, categories) => {\r\n  return fetch(`${API}/blogs/related`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(_id, categories)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\nexport const adminList = (token, user) => {\r\n  return fetch(`${API}/blogs`,\r\n    {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const userList = (token, user) => {\r\n  return fetch(`${API}/user/blogs`,\r\n    {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const adminRemovePlog = (token, user, slug) => {\r\n  return fetch(`${API}/blog/adminRemoveBlog/${slug}`,\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const userRemovePlog = (token, user, slug) => {\r\n  return fetch(`${API}/blog/userRemoveBlog/${slug}`,\r\n    {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'content-type': 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(user)\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\n\r\nexport const userUpdateBlog = (token, slug, blog) => {\r\n  console.log(token)\r\n  return fetch(`${API}/blog/${slug}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: blog\r\n    }\r\n  ).then(res => {\r\n    handleResponse(res)\r\n    return res.json()\r\n  }).catch(error => error)\r\n}\r\nexport const searchList = (params) => {\r\n  const query = queryString.stringify(params)\r\n  return fetch(`${API}/blogs/search?${query}`,\r\n    {\r\n      method: 'GET',\r\n    }\r\n  ).then(res => res.json()).catch(error => error)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}