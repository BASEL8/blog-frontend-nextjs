{"ast":null,"code":"var _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/pages/blogs/index.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Head from 'next/head';\nimport { withRouter } from 'next/router';\nimport { getCookie } from '../../actions/auth';\nimport Layout from '../../components/Layout';\nimport Card from '../../components/blog/layout/Card';\nimport { listBlogWithCategoriesTags } from \"../../actions/blog\";\nimport { DOMAIN, NAME, FB_APP_ID_ } from \"../../config\";\nimport { Cookie, withCookie } from 'next-cookie';\n\nconst Blogs = ({\n  blogs = [],\n  totalBlogs,\n  blogsLimit,\n  blogsSkip,\n  router\n}) => {\n  const {\n    0: limit,\n    1: setLimit\n  } = useState(blogsLimit);\n  const {\n    0: skip,\n    1: setSkip\n  } = useState(blogsSkip);\n  const {\n    0: size,\n    1: setSize\n  } = useState(totalBlogs);\n  const {\n    0: loadedBlogs,\n    1: setLoadedBlogs\n  } = useState([]);\n  const token = getCookie('token');\n\n  const head = () => {\n    return __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, \"Programming blogs | \", NAME), __jsx(\"meta\", {\n      name: \"description\",\n      content: \"Programming blogs and tutorials on react node next vue php laravel and web developoment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }), __jsx(\"link\", {\n      rel: \"canonical\",\n      href: `${DOMAIN}${router.pathname}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:title\",\n      content: `Latest web developoment tutorials | ${NAME}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:description\",\n      content: \"Programming blogs and tutorials on react node next vue php laravel and web developoment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:type\",\n      content: \"webiste\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:url\",\n      content: `${DOMAIN}${router.pathname}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:site_name\",\n      content: `${NAME}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: `${DOMAIN}/static/images/seoblog.jpg`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:image:secure_url\",\n      ccontent: `${DOMAIN}/static/images/seoblog.jpg`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"og:image:type\",\n      content: \"image/jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), __jsx(\"meta\", {\n      property: \"fb:app_id\",\n      content: `${FB_APP_ID_}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  };\n\n  const showAllBlogs = () => {\n    return blogs.map((blog, i) => {\n      return __jsx(\"div\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(Card, {\n        blog: blog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }));\n    });\n  };\n\n  const loadMore = () => {\n    let toSkip = skip + limit;\n    listBlogWithCategoriesTags(token, skip, limit).then(data => {\n      if (data.error) {\n        console.log(error);\n      }\n\n      setLoadedBlogs([...loadedBlogs, ...data.blogs]);\n      setSize(data.size);\n      setSkip(toSkip);\n    });\n  };\n\n  const loadMoreButton = () => {\n    return size > 0 && size >= limit && __jsx(\"button\", {\n      onClick: loadMore,\n      className: \"btn btn-outline-primary btn-lg w-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"load more\");\n  };\n\n  const showLoadedBlogs = () => {\n    return loadedBlogs.map((blog, i) => __jsx(\"article\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, __jsx(Card, {\n      blog: blog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })));\n  };\n\n  return __jsx(React.Fragment, null, __jsx(React.Fragment, null, head(), __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, showAllBlogs()), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, showLoadedBlogs()), __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"text-center pt-5 pb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, loadMoreButton()))))));\n};\n\nBlogs.getInitialProps = ctx => {\n  let skip = 0;\n  let limit = 5;\n  const token = ctx.cookie.get('token');\n  console.log('1');\n  return listBlogWithCategoriesTags(token || ctx.query.token, skip, limit).then(data => {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      console.log(data);\n      return {\n        blogs: data.blogs,\n        categories: data.categories,\n        tags: data.tags,\n        totalBlogs: data.size,\n        blogsLimit: limit,\n        blogsSkip: skip\n      };\n    }\n  });\n};\n\nexport default withCookie(withRouter(Blogs));","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/pages/blogs/index.jsx"],"names":["useState","Head","withRouter","getCookie","Layout","Card","listBlogWithCategoriesTags","DOMAIN","NAME","FB_APP_ID_","Cookie","withCookie","Blogs","blogs","totalBlogs","blogsLimit","blogsSkip","router","limit","setLimit","skip","setSkip","size","setSize","loadedBlogs","setLoadedBlogs","token","head","pathname","showAllBlogs","map","blog","i","loadMore","toSkip","then","data","error","console","log","loadMoreButton","showLoadedBlogs","getInitialProps","ctx","cookie","get","query","categories","tags"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport Head from 'next/head'\nimport { withRouter } from 'next/router'\nimport { getCookie } from '../../actions/auth'\nimport Layout from '../../components/Layout'\nimport Card from '../../components/blog/layout/Card'\nimport { listBlogWithCategoriesTags } from \"../../actions/blog\";\nimport { DOMAIN, NAME, FB_APP_ID_ } from \"../../config\";\nimport { Cookie, withCookie } from 'next-cookie'\n\nconst Blogs = ({ blogs = [], totalBlogs, blogsLimit, blogsSkip, router }) => {\n  const [limit, setLimit] = useState(blogsLimit)\n  const [skip, setSkip] = useState(blogsSkip)\n  const [size, setSize] = useState(totalBlogs)\n  const [loadedBlogs, setLoadedBlogs] = useState([])\n  const token = getCookie('token');\n\n  const head = () => {\n    return <Head>\n      <title>Programming blogs | {NAME}</title>\n      <meta\n        name=\"description\"\n        content=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\n      />\n      <link rel=\"canonical\" href={`${DOMAIN}${router.pathname}`} />\n      <meta property=\"og:title\" content={`Latest web developoment tutorials | ${NAME}`} />\n      <meta\n        property=\"og:description\"\n        content=\"Programming blogs and tutorials on react node next vue php laravel and web developoment\"\n      />\n      <meta property=\"og:type\" content=\"webiste\" />\n      <meta property=\"og:url\" content={`${DOMAIN}${router.pathname}`} />\n      <meta property=\"og:site_name\" content={`${NAME}`} />\n\n      <meta property=\"og:image\" content={`${DOMAIN}/static/images/seoblog.jpg`} />\n      <meta property=\"og:image:secure_url\" ccontent={`${DOMAIN}/static/images/seoblog.jpg`} />\n      <meta property=\"og:image:type\" content=\"image/jpg\" />\n      <meta property=\"fb:app_id\" content={`${FB_APP_ID_}`} />\n    </Head>\n  }\n\n  const showAllBlogs = () => {\n    return blogs.map((blog, i) => {\n      return <div key={i}>\n        <Card blog={blog} />\n      </div>\n    })\n  }\n  const loadMore = () => {\n    let toSkip = skip + limit;\n    listBlogWithCategoriesTags(token, skip, limit).then((data) => {\n      if (data.error) {\n        console.log(error)\n      }\n      setLoadedBlogs([...loadedBlogs, ...data.blogs]);\n      setSize(data.size)\n      setSkip(toSkip)\n\n    })\n  }\n  const loadMoreButton = () => {\n    return (\n      size > 0 && size >= limit && (<button onClick={loadMore} className=\"btn btn-outline-primary btn-lg w-100\">load more</button>)\n    )\n  }\n  const showLoadedBlogs = () => {\n    return loadedBlogs.map((blog, i) => (\n      <article key={i}>\n        <Card blog={blog} />\n      </article>\n    ));\n  };\n  return (\n    <>\n      <>\n        {head()}\n        <Layout>\n          <main>\n            <div className=\"container\">\n              {showAllBlogs()}\n            </div>\n            <div className=\"container\">{showLoadedBlogs()}</div>\n            <div className=\"container\">\n              <div className=\"text-center pt-5 pb-5\">{loadMoreButton()}</div>\n            </div>\n\n          </main>\n        </Layout>\n      </>\n    </>\n  )\n}\nBlogs.getInitialProps = (ctx) => {\n  let skip = 0;\n  let limit = 5;\n  const token = ctx.cookie.get('token')\n  console.log('1')\n  return listBlogWithCategoriesTags(token || ctx.query.token, skip, limit)\n    .then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        console.log(data)\n        return {\n          blogs: data.blogs,\n          categories: data.categories,\n          tags: data.tags,\n          totalBlogs: data.size,\n          blogsLimit: limit,\n          blogsSkip: skip\n        };\n      }\n    });\n};\n\nexport default withCookie(withRouter(Blogs));"]},"metadata":{},"sourceType":"module"}