{"ast":null,"code":"var _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/components/admin/CategoriesAndTags.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { getCookie, isAuth } from '../../actions/auth';\nimport { getCategories, removeCategory, createCategory } from '../../actions/category';\nimport { getTags, removeTag, createTag } from '../../actions/tag';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport Router from 'next/router';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      justifyContent: 'center',\n      flexWrap: 'wrap',\n      '& > *': {\n        margin: theme.spacing(0.5)\n      }\n    },\n    chip: {\n      marginRight: 10\n    },\n    addHolder: {\n      display: 'flex',\n      marginTop: 15\n    },\n    input: {\n      flex: 1,\n      padding: 3,\n      paddingLeft: 10\n    }\n  };\n});\n\nvar CategoriesAndTags = function CategoriesAndTags() {\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = useState(''),\n      category = _useState2[0],\n      setCategory = _useState2[1];\n\n  var _useState3 = useState([]),\n      tags = _useState3[0],\n      setTags = _useState3[1];\n\n  var _useState4 = useState(''),\n      tag = _useState4[0],\n      setTag = _useState4[1];\n\n  var token = getCookie('token');\n  useEffect(function () {\n    getCategories().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCategories(data);\n        getTags().then(function (data) {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setTags(data);\n          }\n        });\n      }\n    });\n  }, []);\n\n  var deleteCategory = function deleteCategory(slug) {\n    removeCategory(slug, token, isAuth()).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        getCategories().then(function (data) {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setCategories(data);\n          }\n        });\n      }\n    });\n  };\n\n  var addCategory = function addCategory() {\n    createCategory({\n      name: category\n    }, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        getCategories().then(function (data) {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setCategories(data);\n            setCategory('');\n          }\n        });\n      }\n    });\n  };\n\n  var showCategories = function showCategories() {\n    return categories.map(function (c, i) {\n      return __jsx(Chip, {\n        className: classes.chip,\n        key: i,\n        label: c.name,\n        onDelete: function onDelete() {\n          return deleteCategory(c.slug);\n        },\n        color: \"primary\",\n        onClick: function onClick() {\n          return Router.push({\n            pathname: '/categories/' + c.slug,\n            state: {\n              slug: c.slug\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    });\n  };\n\n  var showAddCategories = function showAddCategories() {\n    return __jsx(Paper, {\n      className: classes.addHolder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, __jsx(InputBase, {\n      className: classes.input,\n      placeholder: \"Add Category\",\n      inputProps: {\n        'aria-label': 'add category'\n      },\n      value: category,\n      onChange: function onChange(e) {\n        return setCategory(e.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), __jsx(Divider, {\n      orientation: \"vertical\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), __jsx(IconButton, {\n      color: \"primary\",\n      \"aria-label\": \"directions\",\n      onClick: addCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, __jsx(AddCircleIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })));\n  };\n\n  var addTag = function addTag() {\n    createTag({\n      name: tag\n    }, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        getTags().then(function (data) {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setTags(data);\n            setTag('');\n          }\n        });\n      }\n    });\n  };\n\n  var deleteTag = function deleteTag(slug) {\n    removeTag(slug, token, isAuth()).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        getTags().then(function (data) {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setTags(data);\n          }\n        });\n      }\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags.map(function (t, i) {\n      return __jsx(Chip, {\n        className: classes.chip,\n        key: i,\n        label: t.name,\n        onDelete: function onDelete() {\n          return deleteTag(t.slug);\n        },\n        color: \"primary\",\n        onClick: function onClick() {\n          return Router.push({\n            pathname: '/tags/' + t.slug,\n            state: {\n              slug: t.slug\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      });\n    });\n  };\n\n  var showAddTags = function showAddTags() {\n    return __jsx(Paper, {\n      className: classes.addHolder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, __jsx(InputBase, {\n      className: classes.input,\n      placeholder: \"Add Tag\",\n      inputProps: {\n        'aria-label': 'add category'\n      },\n      value: tag,\n      onChange: function onChange(e) {\n        return setTag(e.target.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), __jsx(Divider, {\n      orientation: \"vertical\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), __jsx(IconButton, {\n      color: \"primary\",\n      \"aria-label\": \"directions\",\n      onClick: addTag,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, __jsx(AddCircleIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })));\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, __jsx(Box, {\n    boxShadow: 1,\n    p: 2,\n    mb: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h3\",\n    component: \"h2\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Categories\"), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, showCategories(), showAddCategories())), __jsx(Box, {\n    boxShadow: 1,\n    p: 2,\n    mb: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h3\",\n    component: \"h2\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, \"Tags\"), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, showTags(), showAddTags()))));\n};\n\nexport default CategoriesAndTags;","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/components/admin/CategoriesAndTags.jsx"],"names":["React","useState","useEffect","getCookie","isAuth","getCategories","removeCategory","createCategory","getTags","removeTag","createTag","Box","makeStyles","Chip","IconButton","Paper","Typography","InputBase","Divider","AddCircleIcon","Router","useStyles","theme","root","display","justifyContent","flexWrap","margin","spacing","chip","marginRight","addHolder","marginTop","input","flex","padding","paddingLeft","CategoriesAndTags","classes","categories","setCategories","category","setCategory","tags","setTags","tag","setTag","token","then","data","error","console","log","deleteCategory","slug","addCategory","name","showCategories","map","c","i","push","pathname","state","showAddCategories","e","target","value","addTag","deleteTag","showTags","t","showAddTags"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getCookie, isAuth } from '../../actions/auth'\nimport { getCategories, removeCategory, createCategory } from '../../actions/category'\nimport { getTags, removeTag, createTag } from '../../actions/tag'\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport IconButton from '@material-ui/core/IconButton'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport InputBase from '@material-ui/core/InputBase'\nimport Divider from '@material-ui/core/Divider'\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport Router from 'next/router'\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(0.5),\n    },\n  },\n  chip: {\n    marginRight: 10\n  },\n  addHolder: {\n    display: 'flex',\n    marginTop: 15\n  },\n  input: {\n    flex: 1,\n    padding: 3,\n    paddingLeft: 10\n  },\n}));\n\nconst CategoriesAndTags = () => {\n  const classes = useStyles()\n  const [categories, setCategories] = useState([])\n  const [category, setCategory] = useState('')\n  const [tags, setTags] = useState([])\n  const [tag, setTag] = useState('')\n  const token = getCookie('token');\n  useEffect(() => {\n    getCategories()\n      .then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setCategories(data)\n          getTags().then(data => {\n            if (data.error) {\n              console.log(data.error);\n            } else {\n              setTags(data)\n            }\n          })\n        }\n      })\n  }, [])\n  const deleteCategory = (slug) => {\n    removeCategory(slug, token, isAuth())\n      .then((data) => {\n        if (data.error) {\n          console.log(data.error)\n        } else {\n          getCategories()\n            .then(data => {\n              if (data.error) {\n                console.log(data.error)\n              } else {\n                setCategories(data)\n              }\n            })\n        }\n      })\n  };\n  const addCategory = () => {\n    createCategory({ name: category }, token).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        getCategories()\n          .then(data => {\n            if (data.error) {\n              console.log(data.error)\n            } else {\n              setCategories(data)\n              setCategory('')\n            }\n          })\n      }\n    })\n  }\n\n  const showCategories = () => {\n    return categories.map((c, i) => <Chip\n      className={classes.chip}\n      key={i}\n      label={c.name}\n      onDelete={() => deleteCategory(c.slug)}\n      color=\"primary\"\n      onClick={()=>Router.push({pathname:'/categories/'+c.slug,state:{slug:c.slug}})}\n    />\n    )\n  }\n  const showAddCategories = () => {\n    return (\n      <Paper className={classes.addHolder} >\n        <InputBase\n          className={classes.input}\n          placeholder=\"Add Category\"\n          inputProps={{ 'aria-label': 'add category' }}\n          value={category}\n          onChange={(e) => setCategory(e.target.value)}\n        />\n        <Divider orientation=\"vertical\" />\n        <IconButton color=\"primary\" aria-label=\"directions\" onClick={addCategory}>\n          <AddCircleIcon />\n        </IconButton>\n      </Paper>\n    )\n  }\n\n\n  const addTag = () => {\n    createTag({ name: tag }, token).then((data) => {\n      if (data.error) {\n        console.log(data.error)\n      } else {\n        getTags()\n          .then(data => {\n            if (data.error) {\n              console.log(data.error)\n            } else {\n              setTags(data)\n              setTag('')\n            }\n          })\n      }\n    })\n  }\n  const deleteTag = (slug) => {\n    removeTag(slug, token, isAuth())\n      .then((data) => {\n        if (data.error) {\n          console.log(data.error)\n        } else {\n          getTags()\n            .then(data => {\n              if (data.error) {\n                console.log(data.error)\n              } else {\n                setTags(data)\n              }\n            })\n        }\n      })\n\n  };\n  const showTags = () => {\n    return tags.map((t, i) => <Chip\n      className={classes.chip}\n      key={i}\n      label={t.name}\n      onDelete={() => deleteTag(t.slug)}\n      color=\"primary\"\n      onClick={() => Router.push({ pathname: '/tags/' + t.slug, state: { slug: t.slug } })}\n  />\n    )\n  }\n  const showAddTags = () => {\n    return (\n      <Paper className={classes.addHolder} >\n        <InputBase\n          className={classes.input}\n          placeholder=\"Add Tag\"\n          inputProps={{ 'aria-label': 'add category' }}\n          value={tag}\n          onChange={(e) => setTag(e.target.value)}\n        />\n        <Divider orientation=\"vertical\" />\n        <IconButton color=\"primary\" aria-label=\"directions\" onClick={addTag}>\n          <AddCircleIcon />\n        </IconButton>\n      </Paper>\n    )\n  }\n\n\n\n\n\n\n  return (\n    <div>\n      <div>\n        <Box boxShadow={1} p={2} mb={5}>\n          <Typography variant=\"h3\" component=\"h2\" gutterBottom>\n            Categories\n          </Typography>\n          <div>\n            {showCategories()}\n            {showAddCategories()}\n          </div>\n        </Box>\n        <Box boxShadow={1} p={2} mb={5}>\n          <Typography variant=\"h3\" component=\"h2\" gutterBottom>\n            Tags\n          </Typography>\n          <div>\n            {showTags()}\n            {showAddTags()}\n          </div>\n        </Box>\n      </div>\n    </div>\n  )\n\n}\nexport default CategoriesAndTags;"]},"metadata":{},"sourceType":"module"}