{"ast":null,"code":"var _jsxFileName = \"/Users/baselmunawwar/Desktop/nextjs/firstApp/components/admin/AllBlogsAdmin.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { getCookie, isAuth } from '../../actions/auth';\nimport { adminList, adminRemovePlog } from '../../actions/blog';\nimport Card from '../blog/layout/Card';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\n\nconst AdminAllBlogs = () => {\n  const {\n    0: blogs,\n    1: setBlogs\n  } = useState([]);\n  const token = getCookie('token');\n  useEffect(() => {\n    adminList(token, isAuth()).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  }, []);\n\n  const RemoveBlog = slug => {\n    adminRemovePlog(token, isAuth(), slug).then(res => {\n      if (res.error) {\n        console.log(res.error);\n      } else {\n        adminList(token, isAuth()).then(data => {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            setBlogs(data);\n          }\n        });\n      }\n    });\n  };\n\n  const showAllBlogs = () => {\n    return blogs.map((blog, i) => {\n      return __jsx(Box, {\n        p: 1,\n        borderColor: \"primary.main\",\n        border: 1,\n        mt: 2,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, __jsx(Card, {\n        blog: blog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), __jsx(Button, {\n        variant: \"outlined\",\n        onClick: () => RemoveBlog(blog.slug),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Remove\"));\n    });\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, showAllBlogs()));\n};\n\nexport default AdminAllBlogs;","map":{"version":3,"sources":["/Users/baselmunawwar/Desktop/nextjs/firstApp/components/admin/AllBlogsAdmin.jsx"],"names":["React","useState","useEffect","getCookie","isAuth","adminList","adminRemovePlog","Card","Button","Box","AdminAllBlogs","blogs","setBlogs","token","then","data","error","console","log","RemoveBlog","slug","res","showAllBlogs","map","blog","i"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAiC,oBAAjC;AACA,SAASC,SAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAC1B,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMY,KAAK,GAAGV,SAAS,CAAC,OAAD,CAAvB;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,SAAS,CAACQ,KAAD,EAAOT,MAAM,EAAb,CAAT,CACGU,IADH,CACQC,IAAI,IAAI;AACZ,UAAIA,IAAI,CAACC,KAAT,EAAgB;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACD,OAFD,MAEO;AACLJ,QAAAA,QAAQ,CAACG,IAAD,CAAR;AACD;AACF,KAPH;AAQD,GATQ,EASN,EATM,CAAT;;AAYA,QAAMI,UAAU,GAAIC,IAAD,IAAU;AAC3Bd,IAAAA,eAAe,CAACO,KAAD,EAAQT,MAAM,EAAd,EAAkBgB,IAAlB,CAAf,CAAuCN,IAAvC,CAA4CO,GAAG,IAAI;AACjD,UAAIA,GAAG,CAACL,KAAR,EAAe;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACL,KAAhB;AACD,OAFD,MAEO;AACZX,QAAAA,SAAS,CAACQ,KAAD,EAAOT,MAAM,EAAb,CAAT,CACMU,IADN,CACWC,IAAI,IAAI;AACZ,cAAIA,IAAI,CAACC,KAAT,EAAgB;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACD,WAFD,MAEO;AACLJ,YAAAA,QAAQ,CAACG,IAAD,CAAR;AACD;AACF,SAPN;AAQM;AACF,KAbD;AAeD,GAhBD;;AAiBA,QAAMO,YAAY,GAAG,MAAM;AACzB,WAAOX,KAAK,CAACY,GAAN,CAAU,CAACC,IAAD,EAAOC,CAAP,KAAa;AAC5B,aAAO,MAAC,GAAD;AAAK,QAAA,CAAC,EAAE,CAAR;AAAW,QAAA,WAAW,EAAC,cAAvB;AAAsC,QAAA,MAAM,EAAE,CAA9C;AAAiD,QAAA,EAAE,EAAE,CAArD;AAAyD,QAAA,GAAG,EAAEA,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACL,MAAC,IAAD;AAAM,QAAA,IAAI,EAAED,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADK,EAEL,MAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,OAAO,EAAE,MAAIL,UAAU,CAACK,IAAI,CAACJ,IAAN,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFK,CAAP;AAID,KALM,CAAP;AAMD,GAPD;;AAQA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,YAAY,EADf,CADF,CADF;AAQD,CAhDD;;AAkDA,eAAeZ,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getCookie ,isAuth} from '../../actions/auth'\nimport { adminList,adminRemovePlog } from '../../actions/blog'\nimport Card from '../blog/layout/Card'\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\n\nconst AdminAllBlogs = () => {\n  const [blogs, setBlogs] = useState([])\n  const token = getCookie('token');\n  useEffect(() => {\n    adminList(token,isAuth())\n      .then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setBlogs(data)\n        }\n      })\n  }, [])\n\n  \n  const RemoveBlog = (slug) => { \n    adminRemovePlog(token, isAuth(), slug).then(res => { \n      if (res.error) {\n        console.log(res.error)\n      } else { \n adminList(token,isAuth())\n      .then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setBlogs(data)\n        }\n      })\n      }\n    })\n    \n  }\n  const showAllBlogs = () => {\n    return blogs.map((blog, i) => {\n      return <Box p={1} borderColor=\"primary.main\" border={1} mt={2}  key={i}>\n        <Card blog={blog} />\n        <Button variant=\"outlined\" onClick={()=>RemoveBlog(blog.slug)}>Remove</Button>\n      </Box>\n    })\n  }\n  return (\n    <div>\n      <div>\n        {showAllBlogs()}\n      </div>\n    </div>\n  )\n\n}\n\nexport default AdminAllBlogs;"]},"metadata":{},"sourceType":"module"}